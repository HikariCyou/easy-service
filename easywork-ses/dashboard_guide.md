# SES Dashboard 统计功能说明

## 概述
基于SES业务模式设计的comprehensive dashboard统计功能，为前端ECharts等图表组件提供全面的业务数据支持。

## API 端点列表

### 1. 综合Dashboard
- **GET** `/api/v1/dashboard/comprehensive`
- 一次性获取所有统计数据，适用于主Dashboard页面

### 2. 分模块统计API

#### 总览统计
- **GET** `/api/v1/dashboard/overview`
- 人员、企业、案件、契约的基础统计数据

#### 人员分布统计  
- **GET** `/api/v1/dashboard/personnel-distribution`
- 按类型、状态、国籍、经验年数的分布数据

#### 收益分析
- **GET** `/api/v1/dashboard/revenue-analysis`
- 月收入、单价分布、按人员类型收入分组

#### 案件分析
- **GET** `/api/v1/dashboard/case-analysis`
- 案件状态分布、月度趋势、客户排行、成功率

#### BP企业分析
- **GET** `/api/v1/dashboard/bp-company-analysis`
- BP企业状态、人员数排行、评价分布

#### 业绩指标
- **GET** `/api/v1/dashboard/performance-metrics`  
- 签约增长率、处理时间、利用率、满意度等KPI

#### 预警提醒
- **GET** `/api/v1/dashboard/warning-alerts`
- 签证到期、契约到期、长期可用人员等预警信息

### 3. 辅助功能

#### ECharts模板配置
- **GET** `/api/v1/dashboard/echart-templates`
- 提供饼图、柱状图、折线图、仪表盘的推荐配置

#### 实时统计
- **GET** `/api/v1/dashboard/real-time-stats`
- 轻量级实时数据，适用于快速概览

## 统计维度详解

### 人员管理维度
- **自社员工统计**: 正式员工数量、状态分布
- **自由职业者统计**: 注册人数、技能分布、单价范围  
- **BP人员统计**: 各BP企业提供的人员数量、评价分布
- **签约率分析**: 候选人转化为正式签约的比率
- **人员利用率**: 当前有活跃合同的人员占比

### 业务分析维度
- **案件数量**: 总数、按状态分类、月度新增趋势
- **客户分析**: CP企业数量、各客户的案件数排行
- **收益分析**: 月度收入、按人员类型收入分组、单价分布
- **BP企业管理**: 企业数量、人员数排行、评价分布

### 运营指标维度
- **签约增长率**: 当月vs上月的签约数对比
- **案件处理时间**: 从创建到完成的平均天数
- **客户满意度**: 基于项目评价的满意度统计
- **预警监控**: 签证到期、契约到期等风险提醒

### 时间维度分析
- **实时监控**: 当前活跃人员、可用人员、开放案件数
- **月度趋势**: 最近12个月的案件数、签约数趋势
- **季度对比**: 各季度业绩指标对比分析

## 前端集成建议

### ECharts图表类型推荐

#### 1. 饼图 (Pie Chart)
- **人员类型分布**: 自社员工/自由职业者/BP人员比例
- **案件状态分布**: 开放/进行中/已完成案件比例
- **BP企业状态分布**: 活跃/非活跃企业比例

#### 2. 柱状图 (Bar Chart)  
- **收益分析**: 单价区间分布、按人员类型收入
- **BP企业排行**: 按人员数量排序的前10企业
- **客户排行**: 按案件数量排序的前10客户
- **国籍分布**: 各国籍人员数量

#### 3. 折线图 (Line Chart)
- **月度趋势**: 案件数、签约数的时间序列
- **收入趋势**: 月度收入变化
- **人员增长趋势**: 各类型人员的增长曲线

#### 4. 仪表盘 (Gauge Chart)
- **人员利用率**: 0-100%的利用率指示
- **签约率**: 候选人转化率
- **客户满意度**: 平均评分指示

#### 5. 混合图表
- **业绩Dashboard**: 结合柱状图和折线图的综合分析
- **预警面板**: 多指标的综合预警显示

### 数据更新策略
- **实时数据**: 每30秒-1分钟更新（活跃人员数等）
- **日度数据**: 每天更新（收益、案件统计等）
- **周度数据**: 每周更新（趋势分析、排行榜等）

### 缓存建议
- 综合dashboard数据建议缓存15-30分钟
- 实时统计数据建议缓存1-2分钟
- 月度趋势数据可缓存1-2小时

## 业务价值

### 管理层决策支持
- **人员配置优化**: 基于利用率和需求预测合理配置人员
- **收益分析**: 识别最有价值的客户和项目类型
- **风险管控**: 通过预警系统提前识别和处理风险

### 运营效率提升
- **资源调配**: 实时了解人员状态，优化资源分配
- **业务监控**: 关键指标的实时监控，快速响应异常
- **趋势预测**: 基于历史数据预测业务发展趋势

### 客户服务改善
- **满意度监控**: 持续追踪客户满意度，改进服务质量
- **响应速度**: 通过案件处理时间分析优化工作流程
- **质量提升**: 基于评价数据不断提升服务质量

## 扩展功能建议

### 高级分析
- **预测分析**: 基于历史数据预测未来需求
- **相关性分析**: 分析各指标间的关联关系
- **异常检测**: 自动识别数据异常和业务风险

### 个性化定制
- **自定义Dashboard**: 支持用户自定义关注的指标
- **角色权限**: 不同角色看到不同的统计维度
- **导出功能**: 支持数据导出和报表生成

### 移动端支持
- **响应式图表**: 适配移动设备的图表展示
- **关键指标**: 移动端重点展示核心KPI
- **推送通知**: 重要预警的移动端推送